# PiCimOS WebAPI  
> auto generated by *PiCIMOS* at 2022.09.06-10.20.29  

## 目录  
总API数量 0037  
#  
- [UI](#ui)  
	- [ui.setClientUIVisible 界面-设置客户端界面状态](#uisetclientuivisible)  
- [Mode](#mode)  
	- [mode.enterEditMode 模式-进入编辑模式](#modeentereditmode)  
	- [mode.enterPlayMode 模式-进入预览模式](#modeenterplaymode)  
	- [mode.event 模式-通用事件](#modeevent)  
- [Objects](#objects)  
	- [object.create 对象-创建](#objectcreate)  
	- [object.move 对象-移动](#objectmove)  
	- [object.visible 对象-显示隐藏](#objectvisible)  
	- [object.destroy 对象-销毁](#objectdestroy)  
	- [object.setmpc ](#objectsetmpc)  
	- [object.layerVisible 对象-图层显隐](#objectlayervisible)  
- [Camera](#camera)  
	- [camera.focus 聚焦相机到对象](#camerafocus)  
	- [camera.fly 相机飞行](#camerafly)  
	- [camera.animControl 相机动画控制](#cameraanimcontrol)  
- [Environment](#environment)  
	- [environment.setTime 环境-设置时间](#environmentsettime)  
	- [environment.setWeather 环境-设置天气](#environmentsetweather)  
	- [environment.timepass ](#environmenttimepass)  
- [General](#general)  
	- [general.openUrl 通用-打开网页地址](#generalopenurl)  
	- [page.loadCompleted 通用-网页准备就绪通知](#pageloadcompleted)  
- [Power](#power)  
	- [power.getDb 电力-获取基础数据](#powergetdb)  
	- [power.query 电力-查询节点数据](#powerquery)  
	- [power.create 电力-创建节点](#powercreate)  
	- [power.remove 电力-删除节点](#powerremove)  
	- [power.connect 电力-查询节点数据](#powerconnect)  
	- [power.disconnect 电力-断开节点](#powerdisconnect)  
	- [power.focus 电力-聚焦节点](#powerfocus)  
	- [power.nodeShow 电力-模型特写](#powernodeshow)  
	- [power.boom 电力-节点展开](#powerboom)  
	- [power.publish 电力-发布节点](#powerpublish)  
	- [power.reset 电力-重置节点改动](#powerreset)  
	- [power.save 电力-保存节点改动](#powersave)  
	- [power.detail 电力-节点详情数据](#powerdetail)  
	- [power.nodeEdit 电力-编辑节点](#powernodeedit)  
	- [power.uiLoaded 电力-页面加载完毕通知](#poweruiloaded)  
- [Project](#project)  
	- [project.new 项目-新建项目](#projectnew)  
	- [project.load 项目-加载项目](#projectload)  
	- [project.save 项目-保存项目](#projectsave)  
- [Cloud](#cloud)  
	- [cloud.init 云渲染-云渲染初始化](#cloudinit)  
#  


## UI   
#  
UI模块主要做全局的UI状态的控制  
[回目录](#目录)  API数量 0001  
### ui.setClientUIVisible  
界面-设置客户端界面状态  [回目录](#目录)  
设置客户端界面状态  
  
#### 输入  
 
```javascript  
{
	visible: "", //可见性 show / hide / toggle
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   

## Mode   
#  
模式模块主要做编辑模式的管理  
[回目录](#目录)  API数量 0003  
### mode.enterEditMode  
模式-进入编辑模式  [回目录](#目录)  
进入编辑模式  
  
#### 输入  
 
```javascript  
{  
	"modeId": 2,  //模式，0=摆放，1=画刷，2=路线...
	"mainPage": -1 //主页面序号 0-7,  -1=不修改
    "subPage": -1 //子页面序号 ,-1=不修改
}  
```  
  
#### 输出  
 
```javascript  
{  
}  
```
  
#### 调用  
   
### mode.enterPlayMode  
模式-进入预览模式  [回目录](#目录)  
进入预览模式  
  
#### 输入  
 
```javascript  
{  
	"defaultPageId": "" //默认加载的页面ID
}  
```  
  
#### 输出  
 
```javascript  
{  
}  
```
  
#### 调用  
   
### mode.event  
模式-通用事件  [回目录](#目录)  
通用的事件触发，从外部通知PiClient事件的发生  
  
#### 输入  
 
```javascript  
{  
	"action": "page.loadCompleted",
	"target": "page",
	"params": { param1: "value1", param2: "0" }
}  
```  
  
#### 输出  
 
```javascript  
{  
}  
```
  
#### 调用  
   

## Objects   
#  
  
[回目录](#目录)  API数量 0006  
### object.create  
对象-创建  [回目录](#目录)  
创建对象  
  
#### 输入  
 
```javascript  
{  
	className: "", //类型名称
	classPath: "", //类型路径
	ecef: "", //ecef坐标
	geo: "", //经纬度坐标
	rotation: "", //朝向 roll,pitch,yaw
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   
### object.move  
对象-移动  [回目录](#目录)  
移动对象，参数offset/ecef/geo三选一，都提供则geo >> ecef >> offset  
  
#### 输入  
 
```javascript  
{
	target: "", //目标
	parent: "", //父对象
	offset: "", //偏移 x,y,z
	ecef: "", //ecef坐标
	geo: "", //经纬度
	rotation: "" //朝向 roll,pitch,yaw
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   
### object.visible  
对象-显示隐藏  [回目录](#目录)  
显示隐藏对象  
  
#### 输入  
  
```javascript  
{
	target: "", //目标
	visible: "", //可见性 show / hide / toggle
}  
```  
  
#### 输出  
 
```typescript  
```  
示例数据  
```javascript  
```
  
#### 调用  
   
### object.destroy  
对象-销毁  [回目录](#目录)  
销毁对象  
  
#### 输入  
 
```javascript  
{
	target: "", //目标
}  
```  
  
#### 输出  
 
```typescript  
```  
示例数据  
```javascript  
```
  
#### 调用  
   
### object.setmpc  
  [回目录](#目录)  
设置材质参数集  
  
#### 输入  
 
```javascript  
{
	MPCName: "", //材质参数集名称 material parameter collections
	ParamName: "", //参数名
	ParamValue: "" //参数值
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   
### object.layerVisible  
对象-图层显隐  [回目录](#目录)  
图层显隐  
  
#### 输入  
 
```javascript  
{
	layerName: "", //图层名
	visible: "", //可见性 show / hide / toggle
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   

## Camera   
#  
  
[回目录](#目录)  API数量 0003  
### camera.focus  
聚焦相机到对象  [回目录](#目录)  
聚焦相机到对象  
  
#### 输入  
 
```javascript  
{
	target: "", //target object name
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   
### camera.fly  
相机飞行  [回目录](#目录)  
相机飞行  
  
#### 输入  
 
```javascript  
{
	target: "", //target object name
	ecef: "1234,5678,4321", //ecef坐标
	geo: "123.1234,31.1234,20", //经纬度
	rotation: "0,-30,45.23", //旋转 roll, pitch, yaw的角度值
	time: 3.12 //飞行时长，单位秒
	//target,ecef,geo 三选一，同时提供则选用的优先级为 target >> geo >> ecef
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   
### camera.animControl  
相机动画控制  [回目录](#目录)  
相机动画控制，设置动画时长，播放，暂停，停止  
  
#### 输入  
 

```javascript  
{
	target: "",
	totalTime: 3.2,
	playState: "", //stop,pause,play,toggle
	bFromStart: false
}  
```  
  
#### 输出  
 
```typescript  
```  
  
#### 调用  
   

## Environment   
#  
模式模块主要做环境的管理  
[回目录](#目录)  API数量 0003  
### environment.setTime  
环境-设置时间  [回目录](#目录)  
设置时间  
  
#### 输入  
 
```javascript  
{
	hour:15, //小时, 0-23
	minute: 30, //分钟 0-59
	percentOfDay: 0 //一天的百分比 0-1，大于0时hour/minute无效
}  
```  
  
#### 输出  
 
```javascript  
```
  
#### 调用  
   
### environment.setWeather  
环境-设置天气  [回目录](#目录)  
设置天气  
  
#### 输入  
  
```javascript  
{
	weather: 0 //天气, 0-10 晴空万里/少云/多云/阴天/雾天/小雨/中雨/暴风雨/小雪/中雪/暴风雪
}  
```  
  
#### 输出  
  
```javascript  
```
  
#### 调用  
   
### environment.timepass  
  [回目录](#目录)  
时光流逝控制  
  
#### 输入  
 
```javascript  
{
	date: "2022-08-27",
	time: "14:40",
	timeSpeed: 1.0
}  
```  
  
#### 输出  
 
```javascript  
```
  
#### 调用  
   

## General   
#  
通用模块，提供通用功能与服务  
[回目录](#目录)  API数量 0002  
### general.openUrl  
通用-打开网页地址  [回目录](#目录)  
打开URL  
  
#### 输入  
 
```typescript
interface OpenURLMsg {
	url: string,
}
```  
示例数据  
```javascript  
{
	url: "" //地址
}  
```  
  
#### 输出  
 
```typescript  
```  
示例数据  
```javascript  
```
  
#### 调用  
   
### page.loadCompleted  
通用-网页准备就绪通知  [回目录](#目录)  
网页准备就绪通知  
  
#### 输入  
 
```javascript  
{
}  
```  
  
#### 输出  
 
```typescript  
{
	classes: [],
	actions: [],
	classEvents: [],
	globalObjects: [],
	projectId: "",
	worldObjects: []
}
```  
  
#### 调用  
   

## Power   
#  
电力行业的专用接口  
[回目录](#目录)  API数量 0015  
### power.getDb  
电力-获取基础数据  [回目录](#目录)  
获取基础数据  
  
#### 输入  
 
```typescript
{
    callback: "" //回调函数名，可选
}
```  
  
#### 输出  
 
```typescript  
{
    nodeType: [{id : "",name : "",description : ""}, {}], //节点类型
    network:  [{id : "",name : "",description : ""}, {}], //电力网络清单
    nodeModal: [{id : "",name : "",description : ""}, {}], //节点模型    
}
```  
  
#### 调用  
   
### power.query  
电力-查询节点数据  [回目录](#目录)  
查询节点数据  
  
#### 输入  
 
```typescript
{
    callback: "", //回调函数名，可选
    search: "", //搜索关键字，空表示不参与搜索
    network: "", //网络id， network.id，空表示不参与搜索
    modal: "", //模型id， nodeModal.id，空表示不参与搜索
    voltageMin: 0, //最低电压，0或空表示不参与搜索
    voltageMax: 0, //最高电压， 0或空表示不参与搜索
    isCreated: null, //是否创建，空表示不参与搜索
    props: [{propName: "xxx", value: "", min: "", max: ""}, {}], //自定义属性搜索，搜索节点的扩展属性，value/min/max可以是string,number,date
    page: 1,   //第几页结果，从1开始，空或<1 则默认1
    pageSize: 100, //结果数量，空或<1，则默认10000
}
```  
  
#### 输出  
 
```typescript  
{
    total: 3,
    page: 1,
    pageSize: 10000,
    tableColumnList: [{prop:"type", propName: "型号"}, {prop:"size", propName: "尺寸"}],
    dataList: [{type: "aaa", size: "x1"}, {type: "bbb", size: "x2"}]
}
```  
  
#### 调用  
   
### power.create  
电力-创建节点  [回目录](#目录)  
创建节点  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
    request: 2, //请求数
    affect: 2 //实际动作数
}
```  
  
#### 调用  
   
### power.remove  
电力-删除节点  [回目录](#目录)  
删除节点  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
    request: 2, //请求数
    affect: 2 //实际动作数
}
```  
  
#### 调用  
   
### power.connect  
电力-查询节点数据  [回目录](#目录)  
查询节点数据  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
    request: 2, //请求数
    affect: 2 //实际动作数
}
```  
  
#### 调用  
   
### power.disconnect  
电力-断开节点  [回目录](#目录)  
断开节点  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
    request: 2, //请求数
    affect: 2 //实际动作数
}
```  
  
#### 调用  
   
### power.focus  
电力-聚焦节点  [回目录](#目录)  
聚焦节点  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### power.nodeShow  
电力-模型特写  [回目录](#目录)  
电力模型特写  
  
#### 输入  
 
```typescript
{
    nodeid: "", //节点ID
    enter: true, //是否进入
}
```  
  
#### 输出  
 
```typescript  
{

}
```  
  
#### 调用  
   
### power.boom  
电力-节点展开  [回目录](#目录)  
电力节点展开  
  
#### 输入  
 
```typescript
{
    nodeid: "", //节点ID，可选，备用
    expand: true, //是否展开
}
```  
  
#### 输出  
 
```typescript  
{

}
```  
  
#### 调用  
   
### power.publish  
电力-发布节点  [回目录](#目录)  
电力节点发布  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### power.reset  
电力-重置节点改动  [回目录](#目录)  
重置电力节点改动  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### power.save  
电力-保存节点改动  [回目录](#目录)  
保存电力节点改动  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### power.detail  
电力-节点详情数据  [回目录](#目录)  
查询节点详情数据  
  
#### 输入  
 
```typescript
{
    nodes: ["",""] //node id 列表
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### power.nodeEdit  
电力-编辑节点  [回目录](#目录)  
编辑节点  
  
#### 输入  
 
```typescript
{
    nodes: ["",""], //node id 列表
	begin: true //是否开始编辑。
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### power.uiLoaded  
电力-页面加载完毕通知  [回目录](#目录)  
页面加载完毕通知  
  
#### 输入  
 
```typescript
{
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   

## Project   
#  
项目相关的接口  
[回目录](#目录)  API数量 0003  
### project.new  
项目-新建项目  [回目录](#目录)  
新建项目  
  
#### 输入  
 
```typescript
{
    projectName: "", //项目名
    geoPos:"", //地理位置
    radius: "", //区域半径，单位米
}
```  
  
#### 输出  
 
```typescript  
{
}
```  
  
#### 调用  
   
### project.load  
项目-加载项目  [回目录](#目录)  
加载项目  
  
#### 输入  
 
```typescript
{
    projectId: "", //打开的项目ID
	editorMode: false, //是否默认进入编辑模式
	showUI: true, //是否显示UI
}
```  
  
#### 输出  
 
```typescript  
{
	success: true, 
	msg: "",
}
```  
  
#### 调用  
   
### project.save  
项目-保存项目  [回目录](#目录)  
保存项目  
  
#### 输入  
 
```typescript
{
}
```  
  
#### 输出  
 
```typescript  
{
	success: true, 
	msg: "",
}
```  
  
#### 调用  
   

## Cloud   
#  
云渲染相关的接口  
[回目录](#目录)  API数量 0001  
### cloud.init  
云渲染-云渲染初始化  [回目录](#目录)  
云渲染初始化  
  
#### 输入  
 
```typescript
{
    accountId: "", //账号ID
    accountName:"", //账号名
    token: "", //token
    projectId: "", //打开的项目ID
    showUI: false, //是否显示UI
    editorMode: false //是否进入编辑模式
}
```  
  
#### 输出  
 
```typescript  
{
	success: true, 
	msg: "",
}
```  
  
#### 调用  
   

*-end-*
